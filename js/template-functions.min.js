$(document).ready(function(){"use strict";var a=".header",b=".header-animated",c=".header-sticky",d=".header-background",e=".header-compact",f=".header-in",g=".header-out",h=".header-positioned",i="#bkg-retina-img, #retina-img, [data-2x]",j=".equalize",k=".fullscreen-sections-wrapper",l=".fullscreen-section",m=".scroll-link",n=1e3,o="easeInOutQuart",p=.6,q=".grid-container",r=".grid-item, .masonry-stamp",s=".grid-filter-menu",t="700ms",u="700ms",v=!1,w=[".video-container iframe",".video-container object"],x=["www.youtube.com","player.vimeo.com"],y=".mejs-container audio, .mejs-container video",z=".carousel-slider",A=".content-slider",B=".previous-content-slider",C=".next-content-slider",D=".tm-slider-container.fullscreen",E=".previous-fullscreen-slider",F=".next-fullscreen-slider",G=".full-width-slider",H=".previous-full-width-slider",I=".next-full-width-slider",J=".logo-slider",K=".hero-slider",L=".testimonial-slider",M=".previous-testimonial-slider",N=".next-testimonial-slider",O=".testimonial-slider-aux-nav .api-button",P=".team-slider",Q=".previous-team-slider",R=".next-team-slider",S=".recent-slider",T=".previous-recent-slider",U=".next-recent-slider",V="#tm-lightbox",W=".lightbox-link",X=".form-element",Y=".form-response",Z=".form-honeypot",_=".form-submit",aa=".signup-form",ba=".required-field",ca="Please wait.",da="Sending...",ea="You have been added to our list!",fa="Oh boy an error occurred, please try again.",ga="Please fill out required fields.",ha="Please enter a valid email address.",ia=".contact-form",ja=".required-field",ka="Please wait.",la="Sending...",ma="Thank you, your email has been received!",na="Oh boy an error occurred, please try again.",oa="Please fill out required fields.",pa="Please enter a valid email address.",qa=".map-container",ra=".map-pan-link-container",sa=".map-pan-link",ta=["images/assets/map-marker.png","images/assets/map-marker-2.png"],ua=[[40.723301,-74.002988]],va=["Downtown New York Office<br>44 St. West 32"],wa=45,xa=53,ya=12,za=!1,Aa=!1,Ba=!1,Ca=!0,Da=!0,Ea=!1,Fa=!0,Ga=".content",Ha=".footer-fixed",Ia=".footer",Ja=!0,Ka="body",La=".fade-location, .logo a, .footer-logo a, .navigation a, .side-navigation a, .overlay-navigation a, .grid .overlay-link, .post-media .overlay-link, .post-title a, .post-read-more a, .pagination-previous, .pagination-next, .breadcrumb a, a.read-more",Ma=".no-page-fade, .mail-link, .lightbox-link, .contains-sub-menu, .blog .pagination-previous, .blog .pagination-next, .disabled, .scroll-link, .navigation-show a, a.navigation-show",Na="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",Oa={init:function(){$(Ka).removeClass("no-js"),Oa.siteHeader(),Oa.retinize(),Oa.equalize(768),Oa.parallax(".parallax.fixed-height",!0,!1,!0),Oa.parallax(".parallax.fullscreen",!0,!0,!0),Oa.fullScreenSection(),Oa.masonry(),Oa.logoSlider(),Oa.heroSlider(),Oa.testimonialSlider(),Oa.teamSlider(),Oa.recentSlider(),Oa.carouselSlider(),Oa.contentSlider(),Oa.fullScreenSlider(),Oa.fullWidthSlider(),Oa.lightbox(),Oa.counter(".stat",".stat-counter",!1),Oa.horizon(".horizon",".parallax .horizon","easeInOutQuint",!1,1),Oa.videos(),Oa.mediaElement(),Oa.signupForm(),Oa.contactForm(),Oa.enablePlaceHolder();try{document.getElementsByClassName("map-canvas")&&google.maps.event.addDomListener(window,"load",Oa.googleMap)}catch(a){}Oa.fixedFooter(),Oa.pageFade(),Oa.scrollToSection(),$("body").hasClass("preload-page")&&Oa.preloadPage()},retinize:function(){$(i).retinizeImages()},equalize:function(a){imagesLoaded($(j),function(){$(j).equalizeHeights({clearUnder:a})})},parallax:function(a,b,c,d){$(a).snowBridge({scaleContainer:b,scaleUnder:960,scaleMinHeight:400,fullscreen:c,fadeInOut:d,fadeThreshold:.5,retinaSupport:!1,parallaxFactor:.6,onLoaded:function(){Oa.horizon(".horizon","","easeInOutQuint",!1,1)}})},horizon:function(a,b,c,d,e){return!$("body").hasClass("preload-page")&&void $(a).not(b).horizon({easing:c,recurring:d,threshold:e})},counter:function(a,b,c){$(b).counter({autoStart:!1}),$(a).each(function(){var a=$(this);a.horizon({recurring:c,inView:function(){return!a.find(b).data("counting")&&void a.find(b).each(function(){a.find(b).data("counting",!0);var c=$(this).data("counter");c.startCounter()})},outOfView:function(){return!(!c||!a.find(b).data("counting"))&&void a.find(b).each(function(){a.find(b).data("counting",!1);var c=$(this).data("counter");c.clearCounter()})}})})},carouselSlider:function(){$(z).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,forceFit:!1,scaleMinHeight:"auto",carousel:!0,carouselVisible:3,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1})},contentSlider:function(){$(A).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,forceFit:!1,scaleMinHeight:"auto",lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var a=$(A).data("avalancheSlider");$(B).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(C).on("click",function(b){b.preventDefault(),a.nextSlide()})},fullScreenSlider:function(){$(D).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,fullscreen:!0,captionScaling:!1,lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,respectRatio:!1,retinaSupport:!1});var a=$(D).data("avalancheSlider");$(E).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(F).on("click",function(b){b.preventDefault(),a.nextSlide()})},fullWidthSlider:function(){$(G).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,forceFit:!1,fullwidth:!0,scaleUnder:960,scaleMinHeight:400,captionScaling:!0,lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,respectRatio:!1,retinaSupport:!1});var a=$(G).data("avalancheSlider");$(H).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(I).on("click",function(b){b.preventDefault(),a.nextSlide()})},logoSlider:function(){$(J).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!0,carousel:!0,carouselVisible:5,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,showProgressBar:!1,navShowOnHover:!1,retinaSupport:!1})},heroSlider:function(){$(K).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,scaleMinHeight:"auto",carousel:!0,carouselVisible:1,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1})},testimonialSlider:function(){$(L).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,scaleMinHeight:"auto",carousel:!0,carouselVisible:1,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var a=$(L).data("avalancheSlider");$(M).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(N).on("click",function(b){b.preventDefault(),a.nextSlide()}),$(O).each(function(){$(this).on("click",function(b){b.preventDefault();var c=$(this).data("slide");a.slideTo(c),$(O).removeClass("active"),$(this).addClass("active")})})},teamSlider:function(){$(P).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,carousel:!0,carouselVisible:3,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var a=$(P).data("avalancheSlider");$(Q).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(R).on("click",function(b){b.preventDefault(),a.nextSlide()})},recentSlider:function(){$(S).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,carousel:!0,carouselVisible:3,carouselScaleHeight:!0,lazyLoad:!0,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var a=$(S).data("avalancheSlider");$(T).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(U).on("click",function(b){b.preventDefault(),a.nextSlide()})},lightbox:function(){$(W).summitLightbox({lightboxAnimation:"slideInTop",contentAnimation:"slide",slideAmount:100,easing:"swing",speed:350,onLoaded:function(){var a=$(V).find(".tml-aux-exit");if(0===a.length)return!1;var b=$(W).data("summitLightbox");a.on("click",function(a){a.preventDefault(),$(this).css({transition:"none"}),b.destroyLightbox()})}})},videos:function(){fluidvids.init({selector:w,players:x})},mediaElement:function(){$(y).each(function(){var a=!1;$(this).is("audio")&&(a=!0),$(this).mediaelementplayer({features:a?["playpause","progress","volume","fullscreen"]:["playpause","progress","current","duration","tracks","volume","fullscreen"],videoWidth:"100%",videoHeight:"100%",audioWidth:"100%",videoVolume:"vertical",audioVolume:"horizontal"})})},siteHeader:function(){function i(){j=$(window).width(),k=$(window).height(),l=Math.ceil(u.outerHeight()),m="window-height"===u.data("bkg-threshold")?k-l:u.data("bkg-threshold"),n="window-height"===u.data("compact-threshold")?k-l:u.data("compact-threshold"),o="window-height"===u.data("sticky-threshold")?k-l:u.data("sticky-threshold"),p=u.data("helper-in-threshold"),q=u.data("helper-out-threshold")}var j,k,l,m,n,o,p,q,r,s=0,t=960,u=$(a),v=!!u.is("[data-sticky-threshold]");b=b.split(".").join(""),c=c.split(".").join(""),d=d.split(".").join(""),e=e.split(".").join(""),f=f.split(".").join(""),g=g.split(".").join(""),h=h.split(".").join("");var w=function(b){return!($("body").hasClass("mobile")||j<t)&&(o&&$(b).scrollTop()>=o||0===o?($(a).addClass(c),p&&q&&$(a).addClass(h)):($(a).removeClass(c),p&&q&&$(a).removeClass(h)),m&&$(b).scrollTop()>=m?$(a).addClass(d):$(a).removeClass(d),n&&$(b).scrollTop()>=n?$(a).addClass(e):$(a).removeClass(e),r=$(b).scrollTop(),r>s?(p&&$(b).scrollTop()>=p&&$(a).addClass(f),$(a).removeClass(g)):r<s&&(p&&$(b).scrollTop()<=p&&($(a).removeClass(f),$(a).removeClass(g)),p&&$(b).scrollTop()>=p&&$(b).scrollTop()<=q&&($(a).addClass(g),$(g).on(Na,function(c){return c.stopPropagation(),c.target===$(b)[0]&&void $(a).removeClass(g)}))),void(s=r))},x=function(b){return i(),!$("body").hasClass("mobile")&&(j>t&&v&&u.css({height:u.outerHeight()+"px"}),j>t&&$(window).scrollTop()>=o?($(a).addClass(c),p&&q&&$(a).addClass(h)):($(a).removeClass(c),p&&q&&$(a).removeClass(h)),j>t&&$(window).scrollTop()<m?$(a).removeClass(d):j>t&&$(window).scrollTop()>m&&$(a).addClass(d),j>t&&$(window).scrollTop()<n?$(a).removeClass(e):j>t&&$(window).scrollTop()>n&&$(a).addClass(e),void(j<t&&$(a).removeClass(e)))};$(window).on("scroll",function(){w($(this))}),$(window).on("resize",function(){x()}),$("body").hasClass("mobile")||$(window).one("load",function(){i(),w($(this)),j>t&&v&&u.css({height:l+"px"}),$(a).addClass(b)})},fullScreenSection:function(){var a=function(){var a;if($(k).find(l).length>1){if($("body").hasClass("mobile"))return!1;var b,c=!$(k).hasClass("no-navigation");if(c){b=$("<div>").addClass("fs-pagination").appendTo($(k));for(var d=1;d<$(k).children().length;d++)a=$(k).children().eq(d-1).attr("id"),$(k).find("#"+a).data("index",d),$(k).find(b).append('<a href="#'+a+'" id="fs-pagination-'+d+'" data-index="'+d+'" class="fs-bullet-nav" />');$(window).on("resize",function(){e()});var e=function(){$(b).css({marginTop:-$(b).outerHeight()/2+"px",opacity:1})};e();var f=$(k).find(".fs-bullet-nav");f.each(function(){$(this).on("click",function(b){if(b.preventDefault(),$(this).hasClass("active"))return!1;parseFloat($(this).data("index"));a=$(this).attr("href"),Oa.scrollPage(a,0)})})}$(window).on("scroll",function(){$(k).find(l).each(function(){g($(this))})});var g=function(a){a.data("fs-scrolling")||(window.requestAnimationFrame(function(){h(a)}),a.data("fs-scrolling",!0))},h=function(a){if(Oa.isElementVisible(a,p)&&c){$(b).css({opacity:1});var d=$(k).find(a).data("index");b.find(".active").removeClass("active"),b.find("#fs-pagination-"+d).addClass("active"),a.hasClass("nav-dark")?b.addClass("nav-dark"):b.removeClass("nav-dark")}c&&Oa.isElementVisible($(k),p)?$(b).css({opacity:1,visibility:"visible"}):$(b).css({opacity:0,visibility:"hidden"}),a.data("fs-scrolling",!1)};$(k).find(l).each(function(){g($(this))})}},b=function(){$(l).each(function(){var a=$(this),b=a.find(".background-image, .background-slider-wrapper");if($(this).is("[data-width],[data-height]"))if($("body").hasClass("mobile")||c<=768){a.addClass("fs-image-scale content-below-on-mobile");var e=a.data("width"),f=a.data("height"),g=a.data("min-height"),h=a.width(),i=e>=f?e/f:f/e,j=e>=f?h/i:h*i;j=g&&j<=g?g:j,a.css({height:"auto"}),b.css({height:j+"px",minHeight:j+"px"})}else a.removeClass("fs-image-scale"),a.css({height:""}),b.css({height:"",minHeight:""});else $("body").hasClass("mobile")||c<=768?b.css({height:d+"px"}):(a.removeClass("fs-image-scale"),a.css({height:""}),b.css({height:"",minHeight:""}))})},c=$(window).width(),d=$(window).height();$(window).on("resize",function(){c=$(window).width(),d=$(this).height(),b()}).resize(),a()},scrollToSection:function(){var a=[];$(m).each(function(){a.push($(this).attr("href")),$(this).on("click",function(a){a.preventDefault();var b=$(this).attr("href"),c=$(this).data("offset")?$(this).data("offset"):0;Oa.scrollPage(b,c)})}),$(window).one("load",function(){$.each(a,function(a,c){b($(c))})}),$(window).on("scroll",function(){$.each(a,function(a,c){b($(c))})});var b=function(a){a.data("section-scrolling")||(window.requestAnimationFrame(function(){c(a)}),a.data("section-scrolling",!0))},c=function(a){if(Oa.isElementVisible(a,p)){var b=a.attr("id"),c=$('a[href="#'+b+'"]').closest("header, .side-navigation-wrapper, .overlay-navigation-wrapper");c&&($('a[href="#'+b+'"]').closest("header, .side-navigation-wrapper, .overlay-navigation-wrapper").find(m).parent().removeClass("current"),$('a[href="#'+b+'"]').parent().addClass("current"))}a.data("section-scrolling",!1)}},isElementVisible:function(a,b){if(b=a.is("[data-visible-threshold]")?a.data("visible-threshold"):p,"undefined"==typeof a.offset())return console.log("template-functions.js@isElementVisible: "+a.selector+" cannot be found in your html page."),!1;var c=$(window).height(),d=$(window).scrollTop(),e=d+$(window).height(),f=a.offset().top,g=(a.height(),f+a.outerHeight()-c*b),h=f+c*b;return a.is($(k))||(e>=h&&d<=g?a.addClass("in-view"):a.removeClass("in-view")),e>=h&&d<=g},scrollPage:function(a,b){$("html, body").animate({scrollTop:$(a).offset().top+b},n,o)},masonry:function(){$(q).each(function(){var a,b,c=$(this),d=$(this).find(".grid"),e=$(c).data("default-filter")?$(c).data("default-filter"):"*";if("*"!==e&&($(s).find(".active").removeClass("active"),$(s).find('[data-filter="'+e+'"]').addClass("active")),c.data("layout-mode")){a=c.data("layout-mode")?c.data("layout-mode"):"masonry",c.is("[data-layout-mode]")&&c.addClass("masonry"),c.is("[data-set-dimensions]")&&c.addClass("masonry-set-dimensions"),v=!!c.is("[data-animate-resize]"),u=c.is("[data-animate-resize-duration]")?c.data("animate-resize-duration")+"ms":u,c.is(".masonry-set-dimensions, .masonry-set-dimensions-2")?(c.is(".full-width.no-margins")&&Oa.masonryWrapperWidth(c,d),b=Oa.masonryColWidth(c,d),Oa.masonryThumbSizes(c,d,Oa.masonryColWidth(c,d))):b=".grid-sizer";var f=$('<div class="tm-loader"><div id="circle" /></div>');f.appendTo(c),imagesLoaded(d,function(){d.isotope({filter:e,itemSelector:".grid-item",isResizeBound:!!v,transitionDuration:t,layoutMode:a,stamp:".masonry-stamp",masonry:{columnWidth:b}}),c.find(f).remove(),d.css({visibility:"visible",minHeight:"initial"});var g=d.children().length-1;$("body").hasClass("transition-support")||c.removeClass("fade-in-progressively"),d.children().each(function(a){$(this).delay(100*a).animate({opacity:1},500,"easeInOutQuart",function(){a===g&&c.removeClass("fade-in-progressively")})}),$(window).on("resize",function(){c.is(".full-width.no-margins")&&Oa.masonryWrapperWidth(c,d),Oa.masonryThumbSizes(c,d,Oa.masonryColWidth(c,d)),v?d.isotope({transitionDuration:u,masonry:{columnWidth:".grid-sizer"!==b?Oa.masonryColWidth(c,d):".grid-sizer"}}):(d.removeClass("filtering"),d.isotope({transitionDuration:0,masonry:{columnWidth:".grid-sizer"!==b?Oa.masonryColWidth(c,d):".grid-sizer"}}).isotope("layout").isotope({transitionDuration:u}))})})}else d.css({visibility:"visible"})}),$(s).each(function(){var a,b;$(this).find("a").on("click",function(c){c.preventDefault(),$(this).closest(s).find(".active").removeClass("active"),$(this).addClass("active"),a=$(this).closest(s).data("target-grid")?$(this).closest(s).data("target-grid"):q,t=$(a).is("[data-animate-filter-duration]")?$(a).data("animate-filter-duration")+"ms":t,a=$(a).find(".grid"),a.isotope({transitionDuration:t}),b=$(this).attr("data-filter"),$(a).addClass("filtering").isotope({filter:b})}),$(this).find("a").each(function(){if(a=$(this).closest(s).data("target-grid")?$(this).closest(s).data("target-grid"):q,b="*"!=$(this).data("filter")?$(this).data("filter"):".grid-item",$(this).find(".project-count").length>0){var c=$(a).find(b).length;$(this).find(".project-count").html(c)}})})},masonryWrapperWidth:function(a,b){var c=Math.ceil(1.001*a.width());b.css({maxWidth:c+"px",width:c+"px"})},masonryColWidth:function(a,b){var c,d=$(window).width(),e=Math.ceil(a.width()),f=a.is(".full-width.no-margins")?Math.ceil(1.001*e):b.width();return a.is(".full-width.small-margins, .full-width.no-margins")?(b.hasClass("content-grid-2")&&(c=d>=480?f/2:f/1),b.hasClass("content-grid-3")&&(c=d>768?f/3:d<=768&&d>480?f/2:f/1),b.hasClass("content-grid-4")&&(c=d>1140?f/4:d<=1140&&d>768?f/3:d<=768&&d>480?f/2:f/1),b.hasClass("content-grid-5")&&(c=d>1300?f/5:d<=1300&&d>1140?f/4:d<=1140&&d>=768?f/3:d<=768&&d>480?f/2:f/1),b.hasClass("content-grid-6")&&(c=d>1300?f/6:d<=1300&&d>1140?f/4:d<=1140&&d>=768?f/3:d<=768&&d>480?f/2:f/1)):(b.hasClass("content-grid-2")&&(c=d>=600?f/2:f/1),b.hasClass("content-grid-3")&&(c=d>960?f/3:d<=960&&d>600?f/2:f/1),b.hasClass("content-grid-4")&&(c=d>1140?f/4:d<=1140&&d>960?f/3:d<=960&&d>600?f/2:f/1),b.hasClass("content-grid-5")&&(c=d>1300?f/5:d<=1300&&d>1140?f/4:d<=1140&&d>960?f/3:d<=960&&d>600?f/2:f/1),b.hasClass("content-grid-6")&&(c=d>1300?f/6:d<=1300&&d>1140?f/4:d<=1140&&d>960?f/3:d<=960&&d>600?f/2:f/1)),c=Math.floor(c)},masonryThumbSizes:function(a,b,c){var d,e=$(window).width(),f=2,g=$(".masonry-set-dimensions").hasClass("no-margins")?0:parseFloat(b.find(".grid-item").css("padding-left")),h=a.is(".masonry-set-dimensions")?a.is("[data-grid-ratio]")?parseFloat(a.data("grid-ratio")):1.5:1;if(d=Math.floor((c-g)/h+g),a.is(".masonry-set-dimensions")){var i=a.is(".full-width.small-margins, .full-width.no-margins")?480:600;b.find(r).each(function(){$(this).is(".large, .masonry-stamp.large")?$(this).is(".portrait, .masonry-stamp.portrait")?$(this).css({width:e>i?Math.floor(c*f)+"px":c+"px",height:e>i?Math.floor(d*(2*f))+"px":2*d+"px"}):$(this).css({width:e>i?Math.floor(c*f)+"px":c+"px",height:e>i?Math.floor(d*f)+"px":d+"px"}):$(this).is(".wide, .masonry-stamp.wide")?$(this).css({width:e>i?Math.floor(c*f)+"px":c+"px",height:e>i?d+"px":d/2+"px"}):$(this).is(".portrait, .masonry-stamp.portrait")?$(this).css({width:c+"px",height:Math.floor(d*f)+"px"}):$(this).css({width:c+"px",height:d+"px"})})}a.is(".masonry-set-dimensions-2")&&(e>600?b.find(r).each(function(){$(this).hasClass("horizontal")?$(this).hasClass("two-third")?$(this).children(".item-description").length?$(this).css({width:Math.floor(c*(f+1))+"px",height:Math.floor(d)+"px"}):$(this).addClass("no-description").css({width:Math.floor(c*f)+"px",height:Math.floor(d)+"px"}):$(this).css({width:Math.floor(c*f)+"px",height:Math.floor(d)+"px"}):$(this).hasClass("vertical")?$(this).hasClass("two-third")&&$(this).children(".item-description").length?$(this).css({width:c+"px",height:Math.floor(c*(f+1))+"px"}):$(this).css({width:c+"px",height:Math.floor(d*f)+"px"}):$(this).css({width:c+"px",height:Math.floor(d)+"px"})}):b.find(r).each(function(){$(this).find("iframe, video, .tm-slider-container").length?$(this).css({width:c+"px",height:d+"px"}):$(this).css({width:"",height:""})}))},signupForm:function(){$(aa).submit(function(a){a.preventDefault();var b=$(this),c=b.parent().find(Y),d=b.find(X),e=b.find('input[type="email"]'),f=b.find(Z),g=b.find(_),h=b.attr("action"),i=b.attr("method"),j=b.serialize(),k=!1,l=!1,m=!1;if(ba=ba.split(".").join(""),d.removeClass(ba),d.each(function(){$(this).attr("required")&&($(this).val()||(k=!0,$(this).addClass(ba),c.hide().text(ga).fadeIn(200)))}),k||(l=!0),e.val()&&!Oa.isValidEmail(e.val())?(c.hide().text(ha).fadeIn(200),e.addClass(ba)):m=!0,""!==f.val())return!1;if(k&&e.val()&&!Oa.isValidEmail(e.val())&&c.hide().text(ga+" "+ha).fadeIn(200),l&&m){var n=$(g).val();$(g).css({width:$(g).outerWidth()+"px"}).val(da).attr("disabled",!0),c.hide().text(ca).fadeIn(200),$.ajax({url:h,type:i,data:j,dataType:"json"}).done(function(a){try{a.response===!0?(c.text(ea),c.delay(1500).fadeOut(200),d.val("")):c.hide().text(a.json.error_message).fadeIn(200)}catch(a){console.log("error in parsing returned ajax data: "+a),c.hide().text("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(a,b,d){console.log("Error occured in processing your request:"),console.log(a),console.log("Text status"),console.log(b),console.log("Error thrown"),console.log(d),console.log("Servre response"),console.log(a.status),console.log("Response Text may contain error output from PHP"),console.log(a.responseText),c.hide().text(fa+b+" ("+d+")").fadeIn(200)}).always(function(){$(g).css({width:""}).val(n).attr("disabled",!1)})}})},contactForm:function(){$(ia).submit(function(a){a.preventDefault();var b=$(this),c=b.parent().find(Y),d=b.find(X),e=b.find('input[type="email"]'),f=b.find(Z),g=b.find(_),h=b.attr("action"),i=b.attr("method"),j=[],k=encodeURIComponent(b.find("textarea[name=message]").val()+"\n"),l=[];b.find("input:not([type=submit]),select,textarea").each(function(a,b){var c=$(b),d=c.attr("name");if(c.hasClass("form-aux")&&d){var e=c.data("label")||d,f=c.find("option:selected").text(),g=c.val();!g&&c.is("select")?g=e==f?"Not selected":c.find("option:selected").text():"checkbox"!=c.attr("type")||c.prop("checked")||(g="Not checked"),l.push({name:d,label:encodeURIComponent(e),value:encodeURIComponent(g)})}else d&&"message"!=d&&j.push(d+"="+encodeURIComponent(c.val()))});for(var m=0;m<l.length;m++){var n=encodeURIComponent("\n")+l[m].label+"%3A%20"+l[m].value;k+=n}j.push("message="+k),j=j.join("&");var o=!1,p=!1,q=!1;if(ja=ja.split(".").join(""),d.removeClass(ja),d.each(function(){($(this).attr("required")||$(this).children().attr("required"))&&($(this).is(":checkbox")?$(this).is(":checkbox:checked")||(o=!0,$(this).addClass(ja)):$(this).children().is("select")?$(this).children().val()==$(this).children().find("option:selected").text()&&(o=!0,$(this).addClass(ja)):$(this).val()||(o=!0,$(this).addClass(ja)),o&&c.hide().text(oa).fadeIn(200))}),o||(p=!0),e.val()&&!Oa.isValidEmail(e.val())?(c.hide().text(pa).fadeIn(200),e.addClass(ja)):q=!0,""!==f.val())return!1;if(o&&e.val()&&!Oa.isValidEmail(e.val())&&c.hide().text(oa+" "+pa).fadeIn(200),p&&q){var r=$(g).val();$(g).css({width:$(g).outerWidth()+"px"}).val(la).attr("disabled",!0),c.hide().text(ka).fadeIn(200),$.ajax({url:h,type:i,data:j,dataType:"json"}).done(function(a){try{if(a.response===!0)c.text(ma),c.delay(1500).fadeOut(200),d.val("");else{var b="undefined"==typeof a.json.error_message?"There is a possibility that your message was not sent. Please check up the server or script configuration.":a.json.error_message;c.hide().text(na+" "+b).fadeIn(200)}}catch(b){console.log("error in parsing returned ajax data: "+b),console.log(a),c.hide().text("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(a,b,d){console.log("Error occured in processing your request:"),console.log(a),console.log("Text status"),console.log(b),console.log("Error thrown"),console.log(d),console.log("Servre response"),console.log(a.status),console.log("Response Text may contain error output from PHP"),console.log(qXHR.responseText),c.hide().text(na+" (Please see the console for error details.)").fadeIn(200)}).always(function(){$(g).css({width:""}).val(r).attr("disabled",!1)})}})},isValidEmail:function(a){var b=new RegExp(/^[_\.0-9a-zA-Z-]+@([0-9a-zA-Z][0-9a-zA-Z-]+\.)+[a-zA-Z]{2,6}$/i);return b.test(a)},enablePlaceHolder:function(){$("input, textarea").placeholder()},googleMap:function(){$(qa).each(function(){var a=$(this).children().attr("id");ta=$(this).data("icon")?JSON.parse("["+$(this).data("icon")+"]"):ta,ua=$(this).data("coordinates")?$(this).data("coordinates"):ua,va=$(this).data("info")?JSON.parse("["+$(this).data("info")+"]"):va,ya=$(this).data("zoom-level")?parseFloat($(this).data("zoom-level")):ya,Fa=!(!$(this).data("style")||"greyscale"!==$(this).data("style"));var b=Fa?-100:0,c=!$("body").hasClass("mobile"),d={draggable:c,zoom:ya,center:new google.maps.LatLng(ua[0][0],ua[0][1]),mapTypeControl:Aa,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_RIGHT},panControl:Ba,panControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},zoomControl:Ca,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_TOP},scrollwheel:za,scaleControl:Da,streetViewControl:Ea,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},styles:[{stylers:[{saturation:b}]}]},e=new google.maps.Map(document.getElementById(a),d);$(this).children().data("mapref",e);for(var f,g,h=0,i=0;i<ua.length;i++)f=new google.maps.Marker({position:new google.maps.LatLng(ua[i][0],ua[i][1]),map:e,icon:new google.maps.MarkerImage(ta[h],null,null,null,new google.maps.Size(wa,xa))}),g=new google.maps.InfoWindow({content:va[i]}),google.maps.event.addListener(f,"click",function(a,b){return function(){g.setContent(va[b]),g.open(e,a)}}(f,i)),h++;google.maps.event.addDomListener(window,"resize",function(){var a=e.getCenter();google.maps.event.trigger(e,"resize"),e.setCenter(a)})}),$(sa).each(function(){$(this).data("marker",!1),$(this).on("click",function(a){a.preventDefault();var b,c,d=$("#"+$(this).data("target-map")).data("mapref"),e=$(this).data("coordinates"),f=new google.maps.LatLng(e[0][0],e[0][1]),g=$(this).data("icon")?JSON.parse("["+$(this).data("icon")+"]"):null,h=$(this).data("icon")?JSON.parse("["+$(this).data("info")+"]"):null;d.panTo(f),$(this).data("marker")||($(this).data("icon")&&(b=new google.maps.Marker({position:new google.maps.LatLng(e[0][0],e[0][1]),map:d,icon:new google.maps.MarkerImage(g[0],null,null,null,new google.maps.Size(wa,xa))})),$(this).data("info")&&(c=new google.maps.InfoWindow({content:h[0]}),google.maps.event.addListener(b,"click",function(a,b){return function(){c.setContent(h[0]),c.open(d,a)}}(b,0))),$(this).data("marker",!0)),$(this).closest(ra).hasClass(ra.split(".").join(""))&&($(this).closest(ra).find(".active").removeClass("active"),$(this).addClass("active"))})})},fixedFooter:function(){function a(){$(Ia).hasClass(d)&&$(window).width()>960&&$(Ga).css({marginBottom:c+"px"}),$(Ia).is("[data-animate-reveal]")&&(b=$(Ga).outerHeight()+e-$(window).scrollTop(),b<=$(window).height()&&$(window).width()>960?$(Ga).addClass("animate-content"):$(Ga).removeClass("animate-content"))}if($("body").hasClass("mobile"))return!1;var b,c=$(Ha).outerHeight(),d=Ha.split(".").join(""),e=$(Ga).offset().top;$(Ia).hasClass(d)&&$(Ga).addClass("reveal-footer"),$(window).on("scroll",function(){a()}),$(window).on("resize",function(){c=$(Ha).outerHeight(),a()}),a()},pageFade:function(){return!!Ja&&void $(La).not(Ma).on("click",function(a){a.preventDefault();var b=this.href;$("body").hasClass("transition-support")?$(Ka).addClass("page-fade-out").on(Na,function(a){return a.stopPropagation(),a.target===$(this)[0]&&void Oa.goToNewPage(b)}):Oa.goToNewPage(b)})},goToNewPage:function(a){window.location=a},preloadPage:function(a){$("body").preloadPage({onComplete:function(){Oa.horizon(".horizon",".parallax .horizon","easeInOutQuint",!1,1)}})}};!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),Oa.init()});